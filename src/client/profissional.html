<html>
  <head>
    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js" crossorigin="anonymous"></script>
    <script>
      //const socket = io('ws://localhost:3000', {transports: ['websocket']});
      const socket = io('http://193.123.107.198:4025', {transports: ['websocket']});
      
      
      socket.on('connect', function() {
        console.log('Connected');

        socket.emit('consultaMedicoJoin', { profissional:10});
        
      });



      socket.on('consultas', function(data) {
        console.log('consultas online:', data);
        const d = document.createElement("div");
        d.innerText = JSON.stringify(data.consultas);
        document.getElementById("bd").appendChild(d);
      });

      
      socket.on('exception', function(data) {
        console.log('event', data);
      });
      socket.on('disconnect', function() {
        console.log('Disconnected');
      });
      function iniciarConsulta()
      {
        socket.emit("consultaIniciar", { consulta:15});
      }
      function finalizarConsulta()
      {
        socket.emit("consultaFinalizar", { consulta:15});
      }
    </script>
  </head>

  <body id="bd">
    <button type="button" onclick="iniciarConsulta()">Iniciar consulta</button>
    <button type="button" onclick="finalizarConsulta()">Finalizar consulta</button>

  </body>
</html>